---
Title: ' いいとこどりAppender'
Category:
- log4j
Date: 2007-08-22T00:02:35+09:00
URL: http://tkatochin.hatenablog.com/entry/20070822/1187794955
EditURL: https://blog.hatena.ne.jp/t-katochin/tkatochin.hatenablog.com/atom/entry/6653586347154755257
---

　日時単位でローリングしつつも最大履歴数を制御するというもの。log4j.propertiesには次のように。DailyRollingFileAppdenderと同じプロパティを持っていて、RollingFileAppdenderでいうところのMaxBackupIndexを追加している。
>|dosini|
log4j.appender.D=com.gluegent.log4j.DailyRollingFileAppenderEx
log4j.appender.D.File=logfile
log4j.appender.D.Append=true
log4j.appender.D.MaxBackupIndex=20
log4j.appender.D.DatePattern='.'yyyy-MM-dd'.log'
||<
　pomに以下を追記したらすぐ使える。log4jは1.2だし、Javaも1.4でおｋ
>|xml|
<repositories>
  <repository>
    <id>volatile.gluegent.org</id>
    <name>The Gluegent Maven2 Repository</name>
    <url>http://volatile.gluegent.com/maven2</url>
  </repository>
</repositories>
<dependencies>
  <dependency>
    <groupId>com.gluegent.logging</groupId>
    <artifactId>log4j-extension</artifactId>
    <version>1.0</version>
  </dependency>
</dependencies>
||<
難しくもないのに標準で無いのが不思議。
